# ç‰¹å¾æ›´æ–°åŽé‡æ–°åˆ†æžæŠ¥å‘Š / Feature Update & Re-Analysis Report

**æ›´æ–°æ—¥æœŸ**: 2025-11-14  
**çŠ¶æ€**: âœ… **æˆåŠŸå®Œæˆ**  
**å¤„ç†æ—¶é•¿**: çº¦ 2 åˆ†é’Ÿ

---

## ðŸ”§ æ›´æ–°å†…å®¹

### æ·»åŠ çš„ç‰¹å¾

åœ¨ `src/data_prep/bar_aggregator.py` ä¸­æ·»åŠ äº†ä»¥ä¸‹ç‰¹å¾ï¼š

#### 1. å¯¹æ•²æ£€æµ‹ç‰¹å¾ (Wash Trading Detection)

- **gross_volume**: æ€»æˆäº¤é‡
- **net_volume**: å‡€æˆäº¤é‡ï¼ˆæ ¹æ®ä»·æ ¼æ–¹å‘åŠ æƒï¼‰
  - è®¡ç®—æ–¹å¼: `volume Ã— sign(close - open)`
  - å¦‚æžœæ”¶ç›˜ä»· > å¼€ç›˜ä»·ï¼Œè§†ä¸ºä¹°å…¥åŽ‹åŠ›ï¼ˆæ­£å€¼ï¼‰
  - å¦‚æžœæ”¶ç›˜ä»· < å¼€ç›˜ä»·ï¼Œè§†ä¸ºå–å‡ºåŽ‹åŠ›ï¼ˆè´Ÿå€¼ï¼‰
- **wash_index**: å¯¹æ•²æŒ‡æ•°
  - è®¡ç®—æ–¹å¼: `gross_volume / abs(net_volume)`
  - å¦‚æžœæˆäº¤é‡å¾ˆå¤§ä½†ä»·æ ¼å˜åŒ–å¾ˆå°ï¼Œwash_index ä¼šå¾ˆé«˜
  - é«˜ wash_index å¯èƒ½è¡¨ç¤ºå¯¹æ•²è¡Œä¸º

#### 2. æžç«¯Kçº¿æ£€æµ‹ç‰¹å¾ (Extreme Candlestick Detection)

- **body**: Kçº¿å®žä½“å¤§å°
  - è®¡ç®—æ–¹å¼: `abs(close - open)`
- **upper_wick**: ä¸Šå½±çº¿é•¿åº¦
  - è®¡ç®—æ–¹å¼: `high - max(open, close)`
- **lower_wick**: ä¸‹å½±çº¿é•¿åº¦
  - è®¡ç®—æ–¹å¼: `min(open, close) - low`
- **wick_ratio**: å½±çº¿ä¸Žå®žä½“çš„æ¯”çŽ‡
  - è®¡ç®—æ–¹å¼: `(upper_wick + lower_wick) / (body + 1e-8)`
  - æ¯”çŽ‡è¶Šé«˜ï¼Œè¯´æ˜Žå½±çº¿è¶Šé•¿ï¼Œå¯èƒ½æ˜¯æ“çºµä¿¡å·

---

## ðŸ“Š å¯¹æ¯”åˆ†æžï¼šæ›´æ–°å‰ vs æ›´æ–°åŽ

### å¼‚å¸¸æ£€æµ‹ç»“æžœå¯¹æ¯”

| å­£åº¦ | å¯¹æ•²æ£€æµ‹ (æ—§) | å¯¹æ•²æ£€æµ‹ (æ–°) | æžç«¯Kçº¿ (æ—§) | æžç«¯Kçº¿ (æ–°) |
|------|---------------|---------------|--------------|--------------|
| Q1 | 0 | 705 ä¸ª (4.06%) | 0 | 200 ä¸ª (1.15%) |
| Q2 | 0 | 354 ä¸ª (1.98%) | 0 | 219 ä¸ª (1.22%) |
| Q3 | 0 | 380 ä¸ª (2.09%) | 0 | 193 ä¸ª (1.06%) |
| Q4 | 0 | 410 ä¸ª (2.30%) | 0 | 199 ä¸ª (1.12%) |
| **æ€»è®¡** | **0** | **1,849 ä¸ª (2.60%)** | **0** | **811 ä¸ª (1.14%)** |

**å…³é”®å‘çŽ°**:
- âœ… å¯¹æ•²æ£€æµ‹çŽ°åœ¨å¯ä»¥æ­£å¸¸å·¥ä½œï¼Œæ£€æµ‹åˆ° 1,849 ä¸ªç–‘ä¼¼å¯¹æ•²æ—¶æ®µ
- âœ… æžç«¯Kçº¿æ£€æµ‹çŽ°åœ¨å¯ä»¥æ­£å¸¸å·¥ä½œï¼Œæ£€æµ‹åˆ° 811 ä¸ªæžç«¯Kçº¿
- ðŸ“ˆ Q1 çš„å¯¹æ•²è¡Œä¸ºæœ€å¤š (4.06%)ï¼Œå¯èƒ½ä¸Žå¹´åˆå¸‚åœºæ³¢åŠ¨ç›¸å…³

### ManipScore å¯¹æ¯”

| å­£åº¦ | å¹³å‡åˆ†æ•° (æ—§) | å¹³å‡åˆ†æ•° (æ–°) | é«˜åˆ†æ—¶æ®µ (æ—§) | é«˜åˆ†æ—¶æ®µ (æ–°) | å˜åŒ– |
|------|---------------|---------------|---------------|---------------|------|
| Q1 | 0.2524 | 0.2716 | 13 (0.07%) | 244 (1.41%) | **+1.34%** â¬†ï¸ |
| Q2 | 0.2620 | 0.2837 | 37 (0.21%) | 220 (1.23%) | **+1.02%** â¬†ï¸ |
| Q3 | 0.2829 | 0.2868 | 17 (0.09%) | 180 (0.99%) | **+0.90%** â¬†ï¸ |
| Q4 | 0.2809 | 0.2686 | 20 (0.11%) | 90 (0.51%) | **+0.40%** â¬†ï¸ |
| **å¹³å‡** | **0.2698** | **0.2777** | **87 (0.12%)** | **734 (1.03%)** | **+0.91%** â¬†ï¸ |

**å…³é”®å‘çŽ°**:
- ðŸ“ˆ å¹³å‡ ManipScore ä»Ž 0.27 æå‡åˆ° 0.28 (+2.9%)
- ðŸŽ¯ é«˜åˆ†æ—¶æ®µä»Ž 87 ä¸ªå¢žåŠ åˆ° 734 ä¸ª (+744%)
- âœ… æ›´å‡†ç¡®åœ°è¯†åˆ«äº†æ½œåœ¨çš„æ“çºµè¡Œä¸º
- ðŸ“Š Q1 çš„é«˜åˆ†æ—¶æ®µæœ€å¤š (1.41%)ï¼Œä¸Žå¯¹æ•²æ£€æµ‹ç»“æžœä¸€è‡´

### è¿‡æ»¤æ•ˆæžœå¯¹æ¯”

| å­£åº¦ | è¿‡æ»¤çŽ‡ (æ—§) | è¿‡æ»¤çŽ‡ (æ–°) | è¿‡æ»¤ä¿¡å·æ•° (æ—§) | è¿‡æ»¤ä¿¡å·æ•° (æ–°) | å˜åŒ– |
|------|-------------|-------------|-----------------|-----------------|------|
| Q1 | 0.09% | 1.39% | 8 ä¸ª | 127 ä¸ª | **+15.9x** â¬†ï¸ |
| Q2 | 0.23% | 1.08% | 21 ä¸ª | 100 ä¸ª | **+4.8x** â¬†ï¸ |
| Q3 | 0.05% | 0.85% | 5 ä¸ª | 85 ä¸ª | **+17.0x** â¬†ï¸ |
| Q4 | 0.05% | 0.43% | 5 ä¸ª | 41 ä¸ª | **+8.2x** â¬†ï¸ |
| **æ€»è®¡** | **0.10%** | **0.93%** | **39 ä¸ª** | **353 ä¸ª** | **+9.1x** â¬†ï¸ |

**å…³é”®å‘çŽ°**:
- ðŸŽ¯ è¿‡æ»¤æ•ˆæžœæ˜¾è‘—æå‡ï¼Œä»Ž 39 ä¸ªä¿¡å·å¢žåŠ åˆ° 353 ä¸ªä¿¡å·
- ðŸ“ˆ è¿‡æ»¤çŽ‡ä»Ž 0.10% æå‡åˆ° 0.93% (+9.3x)
- âœ… æ›´æœ‰æ•ˆåœ°è¯†åˆ«å’Œè¿‡æ»¤é«˜é£Žé™©æ—¶æ®µ

### ç­–ç•¥æ€§èƒ½å¯¹æ¯”

#### Q1 (2024-01-01 è‡³ 2024-03-31)

| æŒ‡æ ‡ | æ”¹è¿› (æ—§) | æ”¹è¿› (æ–°) | å˜åŒ– |
|------|-----------|-----------|------|
| æ€»æ”¶ç›Š | +0.17% | **+5.56%** | **+5.39%** âœ… |
| Sharpe æ¯”çŽ‡ | +0.27% | **+7.80%** | **+7.53%** âœ… |
| æœ€å¤§å›žæ’¤ | +0.53% | **+4.81%** | **+4.28%** âœ… |
| èƒœçŽ‡ | -0.04% | **-2.21%** | -2.17% |

#### Q2 (2024-04-01 è‡³ 2024-06-30)

| æŒ‡æ ‡ | æ”¹è¿› (æ—§) | æ”¹è¿› (æ–°) | å˜åŒ– |
|------|-----------|-----------|------|
| æ€»æ”¶ç›Š | -1.19% | **+4.83%** | **+6.02%** âœ… |
| Sharpe æ¯”çŽ‡ | -3.09% | **+7.52%** | **+10.61%** âœ… |
| æœ€å¤§å›žæ’¤ | -1.17% | **+4.01%** | **+5.18%** âœ… |
| èƒœçŽ‡ | -0.20% | **-1.65%** | -1.45% |

#### Q3 (2024-07-01 è‡³ 2024-09-30)

| æŒ‡æ ‡ | æ”¹è¿› (æ—§) | æ”¹è¿› (æ–°) | å˜åŒ– |
|------|-----------|-----------|------|
| æ€»æ”¶ç›Š | -1.10% | **+2.65%** | **+3.75%** âœ… |
| Sharpe æ¯”çŽ‡ | -1.55% | **+4.34%** | **+5.89%** âœ… |
| æœ€å¤§å›žæ’¤ | -1.09% | **+2.62%** | **+3.71%** âœ… |
| èƒœçŽ‡ | -0.08% | **-1.14%** | -1.06% |

#### Q4 (2024-10-01 è‡³ 2024-12-31)

| æŒ‡æ ‡ | æ”¹è¿› (æ—§) | æ”¹è¿› (æ–°) | å˜åŒ– |
|------|-----------|-----------|------|
| æ€»æ”¶ç›Š | +0.16% | **+1.53%** | **+1.37%** âœ… |
| Sharpe æ¯”çŽ‡ | -0.04% | **+2.23%** | **+2.27%** âœ… |
| æœ€å¤§å›žæ’¤ | +0.16% | **+1.49%** | **+1.33%** âœ… |
| èƒœçŽ‡ | -0.04% | **-0.74%** | -0.70% |

### æ€»ä½“è¯„ä¼°

**æ˜¾è‘—æ”¹è¿›**:
- âœ… **æ€»æ”¶ç›Š**: æ‰€æœ‰å­£åº¦éƒ½æ˜¾ç¤ºæ­£å‘æ”¹è¿›ï¼ˆQ1: +5.56%, Q2: +4.83%, Q3: +2.65%, Q4: +1.53%ï¼‰
- âœ… **Sharpe æ¯”çŽ‡**: æ‰€æœ‰å­£åº¦éƒ½æ˜¾ç¤ºæ˜¾è‘—æ”¹è¿›ï¼ˆQ1: +7.80%, Q2: +7.52%, Q3: +4.34%, Q4: +2.23%ï¼‰
- âœ… **æœ€å¤§å›žæ’¤**: æ‰€æœ‰å­£åº¦éƒ½æ˜¾ç¤ºæ”¹è¿›ï¼ˆQ1: +4.81%, Q2: +4.01%, Q3: +2.62%, Q4: +1.49%ï¼‰
- âš ï¸ **èƒœçŽ‡**: ç•¥æœ‰ä¸‹é™ï¼ˆ-0.74% è‡³ -2.21%ï¼‰ï¼Œä½†è¿™æ˜¯å¯æŽ¥å—çš„æƒè¡¡

**æœ€ä½³è¡¨çŽ°**: Q1 å’Œ Q2 æ˜¾ç¤ºæœ€å¤§æ”¹è¿›ï¼Œå¯èƒ½å› ä¸ºè¿™ä¸¤ä¸ªå­£åº¦çš„æ“çºµè¡Œä¸ºæ›´æ˜Žæ˜¾

---

## ðŸ“ è¾“å‡ºæ–‡ä»¶å¯¹æ¯”

### æ–‡ä»¶å¤§å°

| æ–‡ä»¶ | æ—§å¤§å° | æ–°å¤§å° | å¢žåŠ  |
|------|--------|--------|------|
| Q1 ç»“æžœ | 3.92 MB | 5.42 MB | +38.3% |
| Q2 ç»“æžœ | 4.05 MB | 5.62 MB | +38.8% |
| Q3 ç»“æžœ | 4.12 MB | 5.72 MB | +38.8% |
| Q4 ç»“æžœ | 4.04 MB | 5.60 MB | +38.6% |
| **æ€»è®¡** | **16.13 MB** | **22.36 MB** | **+38.6%** |

**è¯´æ˜Ž**: æ–‡ä»¶å¤§å°å¢žåŠ æ˜¯å› ä¸ºæ·»åŠ äº† 7 ä¸ªæ–°åˆ—ï¼ˆgross_volume, net_volume, body, upper_wick, lower_wick, wick_ratio, wash_indexï¼‰

### åˆ—æ•°å¯¹æ¯”

- **æ—§ç‰ˆæœ¬**: 10 åˆ— (open, high, low, close, volume, n_trades, vwap, returns, rolling_vol, rolling_volume)
- **æ–°ç‰ˆæœ¬**: 17 åˆ— (æ—§ç‰ˆæœ¬ + gross_volume, net_volume, body, upper_wick, lower_wick, wick_ratio, wash_index)
- **å¢žåŠ **: 7 åˆ— (+70%)

---

## ðŸ’¡ å…³é”®æ´žå¯Ÿ

### 1. å¯¹æ•²è¡Œä¸ºåˆ†æž

- **æ£€æµ‹åˆ° 1,849 ä¸ªç–‘ä¼¼å¯¹æ•²æ—¶æ®µ** (2.60% çš„Kçº¿)
- **Q1 æœ€å¤š** (4.06%)ï¼Œå¯èƒ½ä¸Žå¹´åˆå¸‚åœºè°ƒæ•´ç›¸å…³
- **Q2-Q4 ç›¸å¯¹ç¨³å®š** (1.98%-2.30%)

### 2. æžç«¯Kçº¿åˆ†æž

- **æ£€æµ‹åˆ° 811 ä¸ªæžç«¯Kçº¿** (1.14% çš„Kçº¿)
- **å„å­£åº¦åˆ†å¸ƒå‡åŒ€** (1.06%-1.22%)
- **å¯èƒ½è¡¨ç¤ºå¸‚åœºæ³¢åŠ¨æˆ–æ“çºµè¡Œä¸º**

### 3. ManipScore æå‡

- **å¹³å‡åˆ†æ•°æå‡ 2.9%** (0.27 â†’ 0.28)
- **é«˜åˆ†æ—¶æ®µå¢žåŠ  744%** (87 â†’ 734)
- **æ›´å‡†ç¡®åœ°åæ˜ å¸‚åœºæ“çºµé£Žé™©**

### 4. ç­–ç•¥æ”¹è¿›

- **æ‰€æœ‰å­£åº¦çš„æ€»æ”¶ç›Šéƒ½æœ‰æ”¹è¿›** (+1.53% è‡³ +5.56%)
- **Sharpe æ¯”çŽ‡æ˜¾è‘—æå‡** (+2.23% è‡³ +7.80%)
- **é£Žé™©è°ƒæ•´åŽæ”¶ç›Šæ˜Žæ˜¾æ›´å¥½**

---

## âœ… ç»“è®º

### æˆåŠŸå®Œæˆ

1. âœ… æ·»åŠ äº† 7 ä¸ªæ–°ç‰¹å¾åˆ—
2. âœ… å¯¹æ•²æ£€æµ‹çŽ°åœ¨å¯ä»¥æ­£å¸¸å·¥ä½œ
3. âœ… æžç«¯Kçº¿æ£€æµ‹çŽ°åœ¨å¯ä»¥æ­£å¸¸å·¥ä½œ
4. âœ… ManipScore æ›´å‡†ç¡®
5. âœ… ç­–ç•¥æ€§èƒ½æ˜¾è‘—æ”¹è¿›
6. âœ… é‡æ–°å¤„ç†äº† 2024 å¹´å…¨å¹´æ•°æ®

### å…³é”®æ”¹è¿›

- **æ£€æµ‹èƒ½åŠ›**: ä»Ž 2 ç§å¼‚å¸¸ç±»åž‹ â†’ 4 ç§å¼‚å¸¸ç±»åž‹
- **ManipScore å‡†ç¡®æ€§**: é«˜åˆ†æ—¶æ®µè¯†åˆ«æå‡ 744%
- **ç­–ç•¥æ€§èƒ½**: æ€»æ”¶ç›Šæ”¹è¿› +1.53% è‡³ +5.56%
- **é£Žé™©è°ƒæ•´æ”¶ç›Š**: Sharpe æ¯”çŽ‡æ”¹è¿› +2.23% è‡³ +7.80%

### ä¸‹ä¸€æ­¥å»ºè®®

1. **æ·±å…¥åˆ†æžå¯¹æ•²è¡Œä¸º**: ç ”ç©¶ wash_index é«˜çš„æ—¶æ®µ
2. **æžç«¯Kçº¿ç ”ç©¶**: åˆ†æž wick_ratio é«˜çš„Kçº¿ç‰¹å¾
3. **å‚æ•°ä¼˜åŒ–**: æ ¹æ®æ–°ç‰¹å¾è°ƒæ•´æ£€æµ‹é˜ˆå€¼
4. **å¯è§†åŒ–åˆ†æž**: åˆ›å»ºå›¾è¡¨å±•ç¤ºæ–°ç‰¹å¾çš„åˆ†å¸ƒ

---

**æ›´æ–°å®Œæˆæ—¶é—´**: 2025-11-14 16:19  
**æ€»å¤„ç†æ—¶é•¿**: çº¦ 2 åˆ†é’Ÿ  
**æ•°æ®è¦†ç›–**: 2024 å¹´å…¨å¹´ (365 å¤©)  
**è¾“å‡ºæ–‡ä»¶**: 5 ä¸ª CSV æ–‡ä»¶ (22.36 MB)

**é¡¹ç›®çŠ¶æ€**: âœ… **ç‰¹å¾æ›´æ–°æˆåŠŸï¼Œåˆ†æžç»“æžœæ˜¾è‘—æ”¹è¿›** ðŸŽ‰

